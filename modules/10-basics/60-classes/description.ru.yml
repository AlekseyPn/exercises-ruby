---
name: Классы
theory: |

  В руби есть циклы, но ими не пользуются. Если и пользуются, то скорее всего по не знанию того, как правильно работать в руби. Руби язык, в котором рулят итераторы и функции высшего порядка. Посмотрите на пример:

  ```ruby
  5.times do |i|
    puts i
  end
  # 0
  # 1
  # 2
  # 3
  # 4
  ```

  Всего три строчки, но очень много новых смыслов. Если говорить в общем, то здесь вызывается метод `times()`, который принимает на вход блок кода и вызывает его 5 раз.

  Блок кода это конструкция *do end*. Грубо говоря это анонимная функция, которая передается в функцию `times()`. Но передается довольно необычным способом. Ключевое слово *do* начинается после того как закрыты вызывающие скобки у метода. Блок просто отделяется пробелом от вызова самой функции.

  ```ruby
  # После пятерки нет запятой!
  5.times() do |i|
    puts i
  end
  ```

  Как это работает? Блоки в руби, обычно, передаются в функции как особый последний аргумент, который идет вне вызова функции. Это довольно необычная концепция. Сама по себе она не привносит никаких новых возможностей в язык, но дает новые визуальные возможности по оформлению кода. Именно из-за этой особенности руби так хорошо подходит и часто используется как язык для построения DSL (языков предметной области). Подробнее об этом в следующих уроках.

  И наконец сам блок. Можно представить, что внутри функции он попадает в переменную, которая вызывается как обычная функция. Сам блок, как функция (а он является в том числе функцией) умеет принимать параметры. Внутрь блока они попадают через конструкцию `|i|` идущую сразу после *do*. Этот синтаксис пришел в руби из Smalltalk. Если параметров несколько, то они просто перечисляются через запятую `|one, two|`.

  Не переживайте если прямо сейчас блоки вам не понятны. Для их осознания нужно время и практика. В руби они повсеместно, поэтому понимания работы с блоками приходит быстро. Буквально в следующем модуле они будут уже везде.

  Помимо блоков в руби присутствуют и настоящие лямбда-функции, уже более привычные для большинства разработчиков. Но тут есть определенная путанница из-за блоков и множества разных синтаксисов работы и с лямбдам и блоками. Таково наследие языка. Впрочем это не большая проблема при использовании [rubocop](https://github.com/rubocop-hq/rubocop).


instructions: |

  Задание

tips: []
